
<form id="addCar">
    Year:<br><input type="text" id="year"><br>
    Make:<br><input type="text" id="make"><br>
    Model:<br><input type="text" id="model"><br>
    Price:<br><input type="text" id="price"><br>
    Image:<br><input type="text" id="image"><br>
    Sold:<br><select id="sold">
        <option value="true">Yes</option>
        <option value="false">No</option>
    </select><br>
    <button type="submit" value="Submit">
      Add Car
    </button>
</form>

{{>footer}}
<script>
async function carFormSubmit(event){
     event.preventDefault();
     const year = document.getElementById('year').value;
     const make = document.getElementById('make').value;
     const model = document.getElementById('model').value;
     const price = document.getElementById('price').value;
     const image = document.getElementById('image').value;
     const sold = document.getElementById('sold').value;

     const response = await fetch("/api/addcar", {
        method:"POST", 
        body: JSON.stringify({year, make, model, price, image, sold}),
     headers: {
        "Content-Type": "application/json"
     }
     });

     if (response.status===200){
        document.location.replace("/")
     }
     else{
        alert("New Car ADD FAILED!")
     }
}
    

document
  .querySelector('#addCar')
  .addEventListener('submit', carFormSubmit);

    
</script>